<Project Sdk="Microsoft.NET.Sdk">
    <PropertyGroup>
        <AssemblyName>Cratis.AspNetCore.Workbench</AssemblyName>
        <RootNamespace>Cratis.AspNetCore.Workbench</RootNamespace>
        <GenerateEmbeddedFilesManifest>true</GenerateEmbeddedFilesManifest>
    </PropertyGroup>

    <ItemGroup>
        <FrameworkReference Include="Microsoft.AspNetCore.App" />
    </ItemGroup>

    <ItemGroup>
        <ProjectReference Include="../../Fundamentals/Fundamentals.csproj" />
        <ProjectReference Include="../../Kernel/Schemas/Events.Schemas.Api/Events.Schemas.Api.csproj" />
        <ProjectReference Include="../../Kernel/Projections/Events.Projections.Api/Events.Projections.Api.csproj" />
    </ItemGroup>

    <ItemGroup>
        <EmbeddedResource Include="$(MSBuildThisFileDirectory)/workbench/**/*" />
    </ItemGroup>
    <!--
    <Target Name="BuildWorkbench" Condition="$(Configuration) == 'Release'" BeforeTargets="BeforeBuild">
        <PropertyGroup>
            <WorkbenchDirectory>$(MSBuildThisFileDirectory)../../Workbench/Events/Web</WorkbenchDirectory>
        </PropertyGroup>

        <ItemGroup>
            <FilesToCopy Include="$(WorkbenchDirectory)/wwwroot/**/*" />
        </ItemGroup>

        <Exec WorkingDirectory="$(WorkbenchDirectory)" Command="base_path=/events/ yarn build" />
        <Copy SourceFiles="@(FilesToCopy)" DestinationFolder="$(MSBuildThisFileDirectory)/workbench" />

        <CreateItem Include="$(MSBuildThisFileDirectory)/workbench/**/*">
            <Output TaskParameter="Include" ItemName="EmbeddedResource"/>
        </CreateItem>
    </Target>
    -->
</Project>
